

==============================================================================================================================================
What is Redis, in Simple Terms?  
--------------------------------

=> Redis (Remote Dictionary Server) is an open-source, in-memory data structure store used as a database, cache, message  broker,  and  streaming 
engine.


In-Memory data-structure ? But How ?
------------------------------------
=> Redis stores data in Redis server RAM not in SSD / HDD, which makes faster data accessibility.



==============================================================================================================================================
THE TYPE OF REDIS AND FETURES
-----------------------------w

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 ‚îÇ REDIS (Local-System)    ‚îÇ REDIS CLOUD            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ When to Use     ‚îÇ ‚Ä¢ Development           ‚îÇ ‚Ä¢ Production           ‚îÇ
‚îÇ Purpose         ‚îÇ ‚Ä¢ Learning              ‚îÇ ‚Ä¢ Scaling              ‚îÇ
‚îÇ Project Type    ‚îÇ ‚Ä¢ Small projects        ‚îÇ ‚Ä¢ Enterprise           ‚îÇ
‚îÇ Budget          ‚îÇ ‚Ä¢ Budget-constrained    ‚îÇ ‚Ä¢ High availability    ‚îÇ
‚îÇ Access Control  ‚îÇ ‚Ä¢ Full control          ‚îÇ ‚Ä¢ Managed service      ‚îÇ
‚îÇ RAM Usage       ‚îÇ ‚Ä¢ Use System RAM        ‚îÇ ‚Ä¢ Redis server RAM     ‚îÇ
‚îÇ RAM Limit       ‚îÇ ‚Ä¢ System RAM            ‚îÇ ‚Ä¢ 30MB on Free Tier    ‚îÇ
‚îÇ Connection      ‚îÇ ‚Ä¢ Localhost:PORT        ‚îÇ ‚Ä¢ Connection URL       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
==============================================================================================================================================









==============================================================================================================================================
WORKING PROCESS OF REDIS
------------------------
+-----------------------+     +------------------------+        +---------------------+         +---------------------+
|  Client Request       |---->|  Web/App Server        |------->|  Check Redis Cache  |-------> | If Cache exist in   | 
|  (API Call, Page Load)|     |  (Node.js, Django,     |        |  for cached data    |         | Redis, return data  |
|                       |     |   Spring, Rails)       |        |  using request key  | <-------| from Cache          | 
+-----------------------+     +-----------+------------+        +-----------+---------+         +---------------------+
                                                                            |
                                                                            |
                                                                            v
                                                                    +-----------------+
                                                                    |  Cache MISS?    |
                                                                    |  (Key not found)|
                                                                    +-------+---------+
                                                                            |
                                                                            | NO (Cache HIT)
                                                                            |
                                                                            v
                                      +--------------------+     +---------------------+
                                      |  Query Database    |     |  Pass request to    |
                                      |  (MySQL, MongoDB,  |<----|  Database           |
                                      |   PostgreSQL)      |     |                     |
                                      +--------+-----------+     +----------+----------+
                                               |                            |
                                               |                            |
                                               v                            |
                                    +--------------------+                  |
                                    |  Process/Transform |                  |
                                    |  Database Result   |                  |
                                    +--------+-----------+                  |
                                             |                              |
                                             |                              |
                                             v                              |
                                   +----------------------+                 |
                                   |  Store in Redis      |                 |
                                   |  with TTL (expiry)   |                 |
                                   |  setex(key, ttl, data)                 |
                                   +----------+-----------+                 |
                                              |                             |
                                              |                             |
                                              v                             |
                                +---------------------------+               |
                                |  Return data to client    |<--------------+
                                |                           |
                                +---------------------------+
==============================================================================================================================================








==============================================================================================================================================
REDIS SETUP IN DOCKER CONTAINER
-------------------------------


INSTALLATION:
-------------
# Step 1: Download image first
docker pull redis:alpine

# Step 2: Run container directly, it will automatically pull Redis.
docker run redis:alpine


# Step 3: docker-compose.yml:
# docker-compose.yml
version: '3.8'
services:
  backend:                               <------------------------ BACEKND IS A CONTAINER IMAGE, IT WILL WORK IN A SEPARETE CONTAINER
    build: .                                                                    |
    container_name: express-backend                                             |        
    ports:                                                       +-----------------------------+ 
      - "5900:5900"                                              | communicate through PORT    |    
    depends_on:                                                  +-----------------------------+
      - redis  # ‚Üê THIS tells it to wait for Redis!                             |
                                                                                |
                                                                                |
  redis:                                 <------------------------ REDIS IS A CONTAINER IMAGE, WILL WORK IN A SEPARETE CONTAINER
    image: redis:7-alpine
    container_name: redis-cache
    ports:
      - "6379:6379"



# Step 4: Redis connection file:
const redis = require('redis');

// INSTANTIATE REDIS
const redisClient = redis.createClient({
    url: process.env.REDIS_URL || 'redis://localhost:6379'        <-------------- URL could
});

redisClient.on('connect', ()=>{
    console.log("‚úÖ Connected to redis");
});

redisClient.on('error', (err)=>{
    console.log('‚ùå Redis error: ', err);
});



// CONNECTION ATTEMPT TO REDIS 
(async()=>{
    try {
        await redisClient.connect();
        console.log('üéØ Redis client connected and ready');
    } catch (error) {
        console.log('‚ö†Ô∏è Failed to connect to Redis:', error.message);
    }
})();  

module.exports = redisClient;